<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PayKaro â€“ Secure Payment</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,Segoe UI,Arial}
body{
  min-height:100vh;
  background:linear-gradient(160deg,#071b34,#0e5cad,#eaf4ff);
  display:flex;align-items:center;justify-content:center;
}
.card{
  background:#fff;
  width:92%;max-width:420px;
  padding:26px;
  border-radius:24px;
  box-shadow:0 30px 60px rgba(0,0,0,.18);
  text-align:center;
}
.logo{
  font-size:20px;
  font-weight:800;
  color:#0e5cad;
  margin-bottom:12px;
}
h2{
  font-size:22px;
  color:#0f2a44;
  margin-bottom:6px;
}
.info{
  font-size:14px;
  color:#444;
  margin:6px 0;
}
.amount{
  font-size:22px;
  font-weight:800;
  color:#0e5cad;
  margin:10px 0;
}
button{
  width:100%;
  padding:15px;
  margin-top:14px;
  border:none;
  border-radius:999px;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
}
.pay-btn{
  background:linear-gradient(90deg,#0e5cad,#1f86ff);
  color:#fff;
}
.qr-box{
  display:none;
  margin-top:18px;
}
.qr-box img{
  width:200px;
  margin:10px auto;
}
.upi-text{
  font-size:13px;
  word-break:break-all;
  color:#333;
}
.copy{
  margin-top:6px;
  font-size:12px;
  color:#0e5cad;
  cursor:pointer;
}
.note{
  margin-top:12px;
  font-size:12px;
  color:#666;
}
.hide{display:none}
</style>
</head>

<body>

<div class="card" id="page">
  <div class="logo">PayKaro</div>

  <h2 id="title">Payment</h2>

  <div class="info">
    <b>Date:</b> <span id="date"></span>
  </div>

  <div class="amount">â‚¹<span id="amount"></span></div>

  <button class="pay-btn" onclick="payNow()">Pay Now</button>

  <!-- Desktop QR -->
  <div class="qr-box" id="qrBox">
    <div class="info"><b>Scan & Pay via UPI</b></div>
    <img id="qrImg" alt="UPI QR Code">
    <div class="upi-text" id="upiText"></div>
    <div class="copy" onclick="copyUPI()">Copy UPI ID</div>
  </div>

  <div class="note">
    You will be redirected to your UPI app to complete the payment.
  </div>
</div>

<script>
const q = new URLSearchParams(location.search);

const title = decodeURIComponent(q.get("t") || "Payment");
const dateVal = decodeURIComponent(q.get("d") || "");
const amt = q.get("a") || "";
const upi = q.get("u") || "";

document.getElementById("title").innerText = title;
document.getElementById("date").innerText = dateVal;
document.getElementById("amount").innerText = amt;

const upiIntent =
  `upi://pay?pa=${upi}&pn=PayKaro&am=${amt}&cu=INR`;

function payNow(){
  if(/Android|iPhone|iPad/i.test(navigator.userAgent)){
    // ðŸ“± Mobile â†’ open UPI app
    window.location.href = upiIntent;
  }else{
    // ðŸ’» Desktop â†’ show QR
    document.getElementById("qrBox").style.display="block";
    document.getElementById("qrImg").src =
      "https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=" +
      encodeURIComponent(upiIntent);
    document.getElementById("upiText").innerText = upi;
  }
}

function copyUPI(){
  navigator.clipboard.writeText(upi);
  alert("UPI ID copied");
}
</script>

</body>
</html>
